{"version":3,"sources":["webpack:///./src/App.vue?02a9","webpack:///./src/App.vue","webpack:///src/App.vue","webpack:///./src/store/index.js","webpack:///./src/router/index.js","webpack:///./src/http/http.js","webpack:///./src/http/common.js","webpack:///./src/main.js"],"names":["selectortype_template_index_0_src_App","render","_h","this","$createElement","_c","_self","attrs","id","staticRenderFns","src_App","__webpack_require__","normalizeComponent","name","ssrContext","hasPermission","roles","route","meta","role","some","indexOf","Vue","use","Vuex","state","token","routers","constantRouterMap","addRouters","uid","userInfo","psw","actions","GenerateRoutes","_ref","data","commit","promise_default","a","resolve","accessedRouters","asyncRouterMap","filter","v","children","length","child","GetUserInfo","_ref2","reject","sessionStorage","getItem","axios","post","then","res","err","mutations","SET_ROUTERS","concat","console","log","SET_USERINFO","SET_TOKEN","SET_UID","store","Store","getters","addRou","Router","path","component","e","bind","title","router","routes","icon","redirect","hidden","defaults","timeout","interceptors","request","config","stringify_default","headers","Content-Type","error","response","status","http","url","arguments","undefined","requst","login","order_all","order_page","orderSearchId","orderSearchMobile","orderSearchType","user_all","user_page","project","done","aduser","getAllUser","deleteUser","updateUser","addUser","password","bannerPage","bannerAll","bannerAdd","bannerUpdate","bannerDelete","bannerInfo","wxchatBan","oederEchart","userEchart","VueQuillEditor","ElementUI","prototype","$http","Http","$echarts","echarts","$common","Common","$qs","qs","productionTip","whiteList","beforeEach","to","from","next","dispatch","split","addRoutes","replace","NProgress","start","afterEach","transition","el","components","App","template"],"mappings":"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","file":"static/js/app.3ee163cf39113363a66a.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('router-view')],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-2b674180\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-2b674180\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../node_modules/vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n}\nvar normalizeComponent = require(\"!../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\nimport __vue_script__ from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\n/* template */\nimport __vue_template__ from \"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-2b674180\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = null\n// module chunks = ","<template>\n  <div id=\"app\">\n    <router-view/>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'App'\n}\n</script>\n\n<style>\n#app {\n  width: 100%;\n  height: 100%;\n  font-family: 'Avenir', Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n#nprogress .bar {\n  background:#40c9c6 !important;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/App.vue","// store/permission.js\r\nimport Vue from 'vue';\r\nimport Vuex from 'vuex';\r\nimport axios from 'axios'\r\nimport { asyncRouterMap, constantRouterMap } from '../router';\r\nimport { stat } from 'fs';\r\nVue.use(Vuex);\r\n\r\n\r\nfunction hasPermission(roles, route) {\r\n  if (route.meta && route.meta.role) {\r\n    return roles.some(role => route.meta.role.indexOf(role) >= 0)\r\n  } else {\r\n    return true\r\n  }\r\n}\r\n\r\nconst state = {\r\n    token:\"\",\r\n    routers: constantRouterMap,\r\n    addRouters: [],\r\n    uid:\"\",\r\n    userInfo:\"\",\r\n    id:\"\",\r\n    psw:\"\"\r\n}\r\n\r\n\r\nconst actions = {\r\n    GenerateRoutes({ commit }, data) {\r\n        return new Promise(resolve => {\r\n          const { roles } = data;\r\n          const accessedRouters = asyncRouterMap.filter(v => {\r\n            if (hasPermission(roles, v)) {      \r\n              if (v.children && v.children.length > 0) {    \r\n                v.children = v.children.filter(child => {    \r\n                  if (hasPermission(roles, child)) {\r\n                    return child\r\n                  }\r\n                  return false;\r\n                });\r\n                return v\r\n              } else {\r\n                return v\r\n              }\r\n            }\r\n            return false;\r\n          });\r\n          commit('SET_ROUTERS', accessedRouters);\r\n          resolve();\r\n        })\r\n    },\r\n    GetUserInfo ({commit}) {\r\n      return new Promise((resolve, reject) => {\r\n        let url = '/api/aduser';\r\n        let data = {\r\n            uid : sessionStorage.getItem('uid'),\r\n            token : sessionStorage.getItem('token')\r\n        }\r\n        axios.post(url,data).then(res => {\r\n          commit('SET_USERINFO', res.data);\r\n          resolve(res.data);\r\n        },err => {\r\n          reject(err)\r\n        })\r\n      })\r\n    }\r\n}\r\n\r\nconst getters = {\r\n  addRou: state => state.addRouters,\r\n  userInfo: state => state.userInfo,\r\n  id: state => state.id,\r\n}\r\n\r\nconst mutations = {\r\n    SET_ROUTERS: (state, routers) => {\r\n        state.addRouters = routers;\r\n        state.routers = constantRouterMap.concat(routers);\r\n        console.log(state.routers)\r\n    },\r\n    SET_USERINFO: (state,data) => {\r\n      state.userInfo = data;\r\n    },\r\n    SET_TOKEN: (state,data) => {\r\n      state.token = data;\r\n    },\r\n    SET_UID: (state,data) => {\r\n      state.uid = data;\r\n    }\r\n}\r\n\r\nexport default new Vuex.Store({\r\n    state,\r\n    actions,\r\n    getters,\r\n    mutations\r\n})\n\n\n// WEBPACK FOOTER //\n// ./src/store/index.js","import Vue from 'vue'\r\nimport Router from 'vue-router'\r\nimport store from '../store'\r\nVue.use(Router)\r\n\r\nexport const constantRouterMap = [\r\n    {\r\n      path: '/login',\r\n      name: '登录页面',\r\n      component: () => import('@/view/login/login')\r\n    },\r\n    {\r\n      path: '/404',\r\n      name: '登录页面',\r\n      component: () => import('@/view/err/404')\r\n    },\r\n    {\r\n      path: '/changePass',\r\n      name: '修改密码',\r\n      component: () => import('@/view/user/change_password'),\r\n      meta: { title: \"修改密码\" },\r\n    }\r\n  ]\r\n//实例化vue的时候只挂载constantRouter\r\nexport default new Router({\r\n  routes: constantRouterMap\r\n});\r\n\r\nexport const asyncRouterMap = [\r\n  {\r\n    path: '/home',\r\n    name: 'Home',\r\n    component: () => import('@/view/home/home'),\r\n    children:[\r\n      {\r\n        path: '/home',\r\n        name: 'Home',\r\n        icon:\"el-icon-s-data\",\r\n        component: () => import('@/view/layout/layout'),\r\n        meta: { role: ['admin','super_editor'], title:\"首页\" },\r\n      },\r\n      {\r\n        path: '/user',\r\n        name: 'user',\r\n        icon:\"el-icon-user\",\r\n        meta: { role: ['admin','super_editor'], title: \"用户列表\" },\r\n        component: () => import('@/view/user/user')\r\n      },\r\n      {\r\n        path: '/order',\r\n        name: 'order',\r\n        icon:\"el-icon-s-order\",\r\n        component: () => import('@/view/order/order'),\r\n        meta: { role: ['admin','super_editor'], title: \"订单列表\" },\r\n      },\r\n      {\r\n        path: '/banner',\r\n        name: 'banner',\r\n        icon: \"el-icon-menu\",\r\n        component: () => import('@/view/banner/banner'),\r\n        meta: { role: ['admin','super_editor'], title: \"广告信息\" },\r\n      },\r\n      {\r\n        path: '/adminUser',\r\n        name: 'adminUser',\r\n        icon: \"el-icon-user-solid\",\r\n        component: () => import('@/view/jurisdiction/user'),\r\n        meta: { role: ['admin','super_editor'], title: \"员工管理\" },\r\n      },\r\n      {\r\n        path: '/addAdminUser',\r\n        name: 'addAdminUser',\r\n        icon: 'el-icon-circle-plus-outline',\r\n        component: () => import('@/view/jurisdiction/add_user'),\r\n        meta: { role: ['admin','super_editor'], title: \"增加员工\" },\r\n      },\r\n      {\r\n        path: '/editor',\r\n        name: 'editor',\r\n        icon: 'el-icon-files',\r\n        component: () => import('@/view/editor/editor'),\r\n        meta: { role: ['admin','super_editor'], title: \"文章管理\" },\r\n      },\r\n      {\r\n        path: '/purchase',\r\n        name: 'purchase',\r\n        icon: 'el-icon-data-analysis',\r\n        component: () => import('@/view/purchase/purchase'),\r\n        meta: { role: ['admin','super_editor'], title: \"采购系统\" }\r\n      }\r\n    ]\r\n  },\r\n  { path: '*', redirect: '/404', hidden: true }\r\n];\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/router/index.js","import axios from 'axios';\r\n\r\nimport store from '@/store'//引入store\r\n\r\naxios.defaults.timeout = 5000;\r\n//axios.defaults.baseURL ='http://localhost:3000'; //填写域名\r\n\r\n//http request 拦截器\r\naxios.interceptors.request.use(\r\n  config => {\r\n    config.data = JSON.stringify(config.data);\r\n    config.headers = {\r\n      'Content-Type':'application/json; charset=utf-8',\r\n      'token':sessionStorage.getItem('token')\r\n    }\r\n    return config;\r\n  },\r\n  error => {\r\n    return Promise.reject(err);\r\n  }\r\n);\r\n\r\n//响应拦截器即异常处理\r\naxios.interceptors.response.use(response => {\r\n    return response\r\n}, err => {\r\n    if (err && err.response) {\r\n      switch (err.response.status) {\r\n        case 400:\r\n            console.log('错误请求')\r\n          break;\r\n        case 401:\r\n            console.log('未授权，请重新登录')\r\n          break;\r\n        case 403:\r\n          console.log('拒绝访问')\r\n          break;\r\n        case 404:\r\n          console.log('请求错误,未找到该资源')\r\n          break;\r\n        case 405:\r\n          console.log('请求方法未允许')\r\n          break;\r\n        case 408:\r\n          console.log('请求超时')\r\n          break;\r\n        case 500:\r\n          console.log('服务器端出错')\r\n          break;\r\n        case 501:\r\n          console.log('网络未实现')\r\n          break;\r\n        case 502:\r\n          console.log('网络错误')\r\n          break;\r\n        case 503:\r\n          console.log('服务不可用')\r\n          break;\r\n        case 504:\r\n          console.log('网络超时')\r\n          break;\r\n        case 505:\r\n          console.log('http版本不支持该请求')\r\n          break;\r\n        default:\r\n          console.log(`连接错误${err.response.status}`)\r\n      }\r\n    } else {\r\n      console.log('连接到服务器失败')\r\n    }\r\n    return Promise.resolve(err.response)\r\n})\r\n\r\n\r\nexport default {\r\n    //post请求\r\n    post(url,data = {}){\r\n      return new Promise((resolve,reject) => {\r\n        axios.post(url,data)\r\n             .then(response => {\r\n               resolve(response.data);\r\n             },err => {\r\n               reject(err)\r\n             })\r\n      })\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/http/http.js","const requst = {\r\n    login: \"/login\",// 登录\r\n    order_all: \"/order/all/ready\",// 全部订单列表\r\n    order_page: \"/order/page\",// 分页订单列表\r\n    orderSearchId: \"/order/search/oid\",// 搜索订单id\r\n    orderSearchMobile: \"/order/search/mobile\",// 搜索订单手机号码\r\n    orderSearchType: \"/order/search/type\",// 搜索订单类型\r\n    user_all: \"/users\",// 全部用户\r\n    user_page: \"/users/page\",// 全部用户\r\n    project: \"/order/update/project\",// 增加接单人\r\n    done: \"/order/update/done\",// 增加接单人\r\n    aduser: \"/aduser\",// 获取用户名信息\r\n    getAllUser: \"/aduser/all/user\",// 获取用户\r\n    deleteUser: \"/aduser/delete/user\",// 删除用户\r\n    updateUser: \"/aduser/update/user\",// 修改用户信息\r\n    addUser: \"/aduser/add/user\",// 添加新用户\r\n    password: \"/password\",// 修改密码\r\n\r\n    bannerPage: \"/banner/page\",// 获取所有banner\r\n    bannerAll: \"/banner/all\",// 获取所有banner\r\n    bannerAdd: \"/banner/add\",// 增加banner\r\n    bannerUpdate: \"/banner/update\",// 修改banner\r\n    bannerDelete: \"/banner/delete\",// 删除banner\r\n    bannerInfo: \"/banner/info\",// 获取单个id banner\r\n\r\n\r\n    wxchatBan: \"/wxchat/code\",// 微信公众平台推送\r\n\r\n    oederEchart: \"/echart/order\",// echart\r\n    userEchart: \"/echart/user\",// echart\r\n}\r\n\r\nexport default requst;\n\n\n// WEBPACK FOOTER //\n// ./src/http/common.js","// The Vue build version to load with the `import` command\r\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\r\nimport Vue from 'vue'\r\nimport App from './App'\r\nimport router from './router'\r\nimport Http from './http/http'\r\nimport Common from './http/common'\r\nimport ElementUI from 'element-ui';\r\nimport echarts from 'echarts'\r\nimport qs from 'qs';\r\nimport Vuex from 'vuex';\r\nimport 'element-ui/lib/theme-chalk/index.css';\r\nimport store from './store'//引入store\r\nimport NProgress from 'nprogress'\r\nimport 'nprogress/nprogress.css'\r\nimport VueQuillEditor from 'vue-quill-editor'\r\nimport 'quill/dist/quill.core.css'\r\nimport 'quill/dist/quill.snow.css'\r\nimport 'quill/dist/quill.bubble.css'\r\nVue.use(VueQuillEditor);\r\nVue.use(ElementUI);\r\nVue.prototype.$http = Http;\r\nVue.prototype.$echarts = echarts;\r\nVue.prototype.$common = Common;\r\nVue.prototype.$qs = qs;\r\nVue.config.productionTip = false;\r\n/* eslint-disable no-new */\r\nconst whiteList = ['/login']; // 免登录白名单\r\nrouter.beforeEach((to, from, next) => {\r\n  if ( sessionStorage.getItem('token') ) { // 判断是否有token\r\n    if (to.path === '/login') {\r\n      next({ path: '/' });\r\n    } else {\r\n      if (store.getters.userInfo == '') {\r\n        store.dispatch('GetUserInfo').then((res) => {\r\n          let roles = res.roles.split(',');\r\n          store.dispatch('GenerateRoutes', { roles }).then(() => { // 生成可访问的路由表\r\n            console.log('addrouters', store.getters.addRou)\r\n            router.addRoutes(store.getters.addRou) // 动态添加可访问路由表\r\n            next({ ...to, replace: true });\r\n          })\r\n        })  \r\n      } else {\r\n        NProgress.start();\r\n        next() //当有用户权限的时候，说明所有可访问路由已生成 如访问没权限的全面会自动进入404页面    \r\n      }\r\n    }\r\n  } else {\r\n    if (whiteList.indexOf(to.path) !== -1) { // 在免登录白名单，直接进入\r\n      next();\r\n    } else {\r\n      next('/login'); // 否则全部重定向到登录页\r\n    }\r\n  }\r\n});\r\nrouter.afterEach(transition => {\r\n  NProgress.done();\r\n});\r\nnew Vue({\r\n  el: '#app',\r\n  router,\r\n  store,\r\n  components: { App },\r\n  template: '<App/>'\r\n})\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js"],"sourceRoot":""}
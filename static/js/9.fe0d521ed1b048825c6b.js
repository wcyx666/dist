webpackJsonp([9],{WuWo:function(e,t){},l6tK:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i={data:function(){return{currentPage:1,pagesize:20,total:3,formLabelWidth:"100px",dialogFormVisible:!1,fileList:[],form:{date:"",name:"",activity:"",imgUrl:""},formInline:{searchIup:"1231"},tableData:[{id:"100001",date:"2016-05-03",name:"九八七",activity:"正月十五元宵节",imgUrl:"www.baidu.com"},{id:"100001",date:"2016-05-03",name:"九八七",activity:"正月十五元宵节",imgUrl:"www.baidu.com"},{id:"100001",date:"2016-05-03",name:"九八七",activity:"正月十五元宵节",imgUrl:"www.baidu.com"}]}},mounted:function(){this.PageOrderList(),this.roles=this.$store.state.userInfo.roles},created:function(){},methods:{handleSizeChange:function(e){this.pagesize=e,this.PageOrderList(),console.log(this.pagesize)},handleCurrentChange:function(e){this.currentPage=e,this.PageOrderList(),console.log(this.currentPage)},PageOrderList:function(){var e=this,t="/api"+this.$common.bannerPage,a={offset:e.currentPage,limit:e.pagesize};e.$http.post(t,a).then(function(t){console.log(t),"200"==t.code&&(e.tableData=t.data,e.total=t.num)}).catch(function(e){})},indexMethod:function(e){return 1*e},handleDelete:function(e,t){var a=this,i="/api"+this.$common.bannerDelete,l={id:t};a.$http.post(i,l).then(function(e){console.log(e),"1"==e.status&&(a.$message({message:"删除成功成功",type:"success"}),a.PageOrderList())}).catch(function(e){})},addBanner:function(){this.dialogFormVisible=!0},handleRemove:function(e,t){console.log(e,t)},handlePreview:function(e){console.log(e)},handleExceed:function(e,t){this.$message.warning("当前限制选择 3 个文件，本次选择了 "+e.length+" 个文件，共选择了 "+(e.length+t.length)+" 个文件")},beforeRemove:function(e,t){return this.$confirm("确定移除 "+e.name+"？")},handleSuccess:function(e,t){console.log(e),this.form.imgUrl=e.imgName},onSubmit:function(){this.$message("该功能模块没有开通")},bindClickQue:function(){var e=this,t="/api"+e.$common.bannerAdd,a={name:e.form.name,date:e.form.date,activity:e.form.activity,imgUrl:"/public/images/"+e.form.imgUrl};e.$http.post(t,a).then(function(t){console.log(t),"1"==t.status&&(e.dialogFormVisible=!1,e.$message({message:"增加接单人成功",type:"success"}),e.PageOrderList())}).catch(function(e){})}}},l={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"banner"},[a("div",{staticClass:"order_search"},[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.formInline}},[a("el-form-item",[a("el-input",{attrs:{placeholder:"请输入内容"},model:{value:e.formInline.searchIup,callback:function(t){e.$set(e.formInline,"searchIup",t)},expression:"formInline.searchIup"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("查询")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.addBanner}},[e._v("增加")])],1)],1)],1),e._v(" "),a("div",{staticClass:"banner_list"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData}},[a("el-table-column",{attrs:{type:"index",index:e.indexMethod}}),e._v(" "),a("el-table-column",{attrs:{prop:"id",label:"ID",width:"180"}}),e._v(" "),a("el-table-column",{attrs:{prop:"date",label:"日期",width:"180"}}),e._v(" "),a("el-table-column",{attrs:{prop:"name",label:"操作人",width:"180"}}),e._v(" "),a("el-table-column",{attrs:{prop:"activity",label:"活动"}}),e._v(" "),a("el-table-column",{attrs:{prop:"imgUrl",label:"地址"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){return e.handleDelete(t.$index,t.row.id)}}},[e._v("删除")])]}}])})],1)],1),e._v(" "),a("div",{staticClass:"page"},[a("el-pagination",{attrs:{"current-page":e.currentPage,"page-sizes":[5,10,15,20],"page-size":e.pagesize,total:e.total,layout:"total, sizes, prev, pager, next, jumper"},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1),e._v(" "),a("el-dialog",{attrs:{title:"增加广告",visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-form",{attrs:{model:e.form,"label-position":"left"}},[a("el-form-item",{attrs:{label:"操作人","label-width":e.formLabelWidth}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"日期","label-width":e.formLabelWidth}},[a("div",{staticClass:"block"},[a("el-date-picker",{attrs:{type:"date",placeholder:"选择日期"},model:{value:e.form.date,callback:function(t){e.$set(e.form,"date",t)},expression:"form.date"}})],1)]),e._v(" "),a("el-form-item",{attrs:{label:"活动名称","label-width":e.formLabelWidth}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.form.activity,callback:function(t){e.$set(e.form,"activity",t)},expression:"form.activity"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"上传图片","label-width":e.formLabelWidth}},[a("el-upload",{staticClass:"upload-demo",attrs:{action:"/api/banner/upload","on-preview":e.handlePreview,"on-remove":e.handleRemove,"before-remove":e.beforeRemove,"on-success":e.handleSuccess,multiple:"",limit:1,"on-exceed":e.handleExceed,"file-list":e.fileList}},[a("el-button",{attrs:{size:"small",type:"primary"}},[e._v("点击上传")]),e._v(" "),a("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v("只能上传jpg/png文件，且不超过500kb")])],1)],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.bindClickQue}},[e._v("确 定")])],1)],1)],1)},staticRenderFns:[]};var o=a("VU/8")(i,l,!1,function(e){a("WuWo")},"data-v-387780e0",null);t.default=o.exports}});
//# sourceMappingURL=9.fe0d521ed1b048825c6b.js.map
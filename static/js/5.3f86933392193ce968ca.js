webpackJsonp([5],{CVg0:function(e,t){},H6RF:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a={data:function(){return{tableData5:[],roles:""}},mounted:function(){this.orderList(),this.roles=this.$store.state.userInfo.roles},methods:{orderList:function(){var e=this,t="/api"+this.$common.order_all;this.$http.post(t).then(function(t){console.log(t),"200"==t.code?e.tableData5=t.data:"404"==t.code&&(sessionStorage.clear(),e.$router.push({path:"/login"}))}).catch(function(e){})},handleEdit:function(e,t){var o=this,a=this;a.$prompt("请输入接单人姓名","提示",{confirmButtonText:"确定",cancelButtonText:"取消"}).then(function(e){var s=e.value;console.log(s);var r="/api"+a.$common.project,n={order_oid:t,project:s};a.$http.post(r,n).then(function(e){console.log(e),1==e.code?o.$message({message:"增加接单人成功",type:"success"}):o.$message({message:"增加接单人失败",type:"success"})}).catch(function(e){o.$message({message:"增加接单人失败",type:"success"})})}).catch(function(){})},handleDone:function(e,t){var o=this,a=this;this.$confirm("是否已经完成订单","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){var e="/api"+a.$common.done,s={order_oid:t};a.$http.post(e,s).then(function(e){console.log(e),1==e.status?a.$message({message:"完成订单",type:"success"}):a.$message({message:"完成订单失败",type:"success"})}).catch(function(e){o.$message({message:"完成订单失败",type:"success"})})}).catch(function(){})}}},s={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"order"},[o("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData5}},[o("el-table-column",{attrs:{type:"expand"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("el-form",{staticClass:"demo-table-expand",attrs:{"label-position":"left",inline:""}},[o("el-form-item",{attrs:{label:"商品编号"}},[o("span",[e._v(e._s(t.row.order_oid))])]),e._v(" "),o("el-form-item",{attrs:{label:"用户编号"}},[o("span",[e._v(e._s(t.row.user_id))])]),e._v(" "),o("el-form-item",{attrs:{label:"商品类型"}},[o("span",[e._v(e._s(t.row.comm_type))])]),e._v(" "),o("el-form-item",{attrs:{label:"商品名称"}},[o("span",[e._v(e._s(t.row.order_name))])]),e._v(" "),o("el-form-item",{attrs:{label:"房屋面积"}},[o("span",[e._v(e._s(t.row.order_per))])]),e._v(" "),o("el-form-item",{attrs:{label:"预约时间"}},[o("span",[e._v(e._s(t.row.make_date))])]),e._v(" "),o("el-form-item",{attrs:{label:"下单时间"}},[o("span",[e._v(e._s(t.row.place_time))])]),e._v(" "),o("el-form-item",{attrs:{label:"小区地址"}},[o("span",[e._v(e._s(t.row.user_addree))])]),e._v(" "),o("el-form-item",{attrs:{label:"号楼门牌"}},[o("span",[e._v(e._s(t.row.user_num))])]),e._v(" "),o("el-form-item",{attrs:{label:"用户姓名"}},[o("span",[e._v(e._s(t.row.user_name))])]),e._v(" "),o("el-form-item",{attrs:{label:"手机号码"}},[o("span",[e._v(e._s(t.row.user_mobile))])]),e._v(" "),o("el-form-item",{attrs:{label:"支付方式"}},[0==t.row.play_way?o("span",[e._v("微信支付")]):e._e(),e._v(" "),1==t.row.play_way?o("span",[e._v("线下支付")]):e._e()]),e._v(" "),o("el-form-item",{attrs:{label:"支付价格"}},[o("span",[e._v(e._s(t.row.order_price))])]),e._v(" "),o("el-form-item",{attrs:{label:"接单人"}},[o("span",[e._v(e._s(t.row.project))])])],1)]}}])}),e._v(" "),o("el-table-column",{attrs:{label:"商品编号",prop:"order_oid"}}),e._v(" "),o("el-table-column",{attrs:{label:"下单时间",prop:"place_time"}}),e._v(" "),o("el-table-column",{attrs:{label:"商品类型",prop:"comm_type"}}),e._v(" "),o("el-table-column",{attrs:{label:"支付方式"},scopedSlots:e._u([{key:"default",fn:function(t){return[0==t.row.play_way?o("span",[e._v("微信支付")]):e._e(),e._v(" "),1==t.row.play_way?o("span",[e._v("线下支付")]):e._e()]}}])}),e._v(" "),o("el-table-column",{attrs:{label:"订单状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[0==t.row.order_type?o("span",[e._v("未支付")]):e._e(),e._v(" "),1==t.row.order_type?o("span",[e._v("进行中")]):e._e(),e._v(" "),2==t.row.order_type?o("span",[e._v("已完成")]):e._e(),e._v(" "),3==t.row.order_type?o("span",[e._v("已取消")]):e._e()]}}])}),e._v(" "),o("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("el-button",{attrs:{size:"mini"},on:{click:function(o){return e.handleEdit(t.$index,t.row.order_oid)}}},[e._v("接单")]),e._v(" "),o("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(o){return e.handleDone(t.$index,t.row.order_oid)}}},[e._v("完成")]),e._v(" "),"admin"==e.roles?o("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(o){return e.handleDelete(t.$index,t.row)}}},[e._v("删除")]):e._e()]}}])})],1)],1)},staticRenderFns:[]};var r=o("VU/8")(a,s,!1,function(e){o("CVg0")},null,null);t.default=r.exports}});
//# sourceMappingURL=5.3f86933392193ce968ca.js.map